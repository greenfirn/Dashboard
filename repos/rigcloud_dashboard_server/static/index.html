<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>RigCloud Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/static/css/app.css">
</head>
<body>
<!-- ================= ACTION BAR ================= -->
<div id="action-bar">

    <!-- SEND COMMAND + SELECT (FAR LEFT) -->
    <div class="action-left">
        <button
            class="action-btn cmd-btn"
            id="btn-send-cmd"
            title="Send command to selected rigs">
            âŒ˜
        </button>

        <button
            class="action-btn"
            id="btn-toggle-select"
            title="Select / Unselect all">
            âœ•
        </button>
    </div>

    <!-- MODE SELECT -->
    <div class="action-modes">
        <button class="action-tab active" data-mode="cpu" onclick="setActionMode('cpu')">CPU</button>
        <button class="action-tab" data-mode="gpu" onclick="setActionMode('gpu')">GPU</button>
        <button class="action-tab" data-mode="common" onclick="setActionMode('common')">BOTH</button>
    </div>

    <!-- ACTION BUTTONS -->
    <div class="action-buttons">
        <button class="action-btn" title="Start" onclick="actionStart()">â–¶</button>
        <button class="action-btn" title="Stop" onclick="actionStop()">â– </button>
        <button class="action-btn" title="Restart" onclick="actionRestart()">â†»</button>
    </div>

    <!-- FLEX SPACER -->
    <div class="action-spacer"></div>

    <!-- ACTION STATUS OUTPUT -->
    <div class="action-status">
        <textarea
            id="action-output"
            class="action-output collapsed"
            readonly
            placeholder="Action output..."
            rows="1"
        ></textarea>
    </div>

</div>
<!-- Command Modal -->
<div id="cmd-modal" class="cmd-modal hidden" onclick="closeCmdModal()">
    <div class="cmd-dialog" onclick="event.stopPropagation()">
        <div class="cmd-header">
            <span>Send Command</span>
            <span class="cmd-target">
                (<span id="cmd-target-count">0</span> rigs)
            </span>
        </div>

        <textarea
            id="cmd-input"
            spellcheck="false"
            placeholder="# Enter command(s) to execute on selected rigs
# Example:
uptime
df -h
nvidia-smi
"></textarea>

        <!-- ðŸ”½ COMMAND OUTPUT (THIS WAS MISSING) -->
        <pre id="cmd-output" class="cmd-output"></pre>

        <div class="cmd-footer">
            <button class="cmd-btn cancel" onclick="closeCmdModal()">Cancel</button>
            <button class="cmd-btn ok" onclick="submitCmd()">Send</button>
        </div>
    </div>
</div>

<div class="rig-header">
    <div class="rig-main rig-header-grid">
        <div class="header-item title-left">
            <span class="reset-btn" title="Hard reset rigs" onclick="hardReset(event)">âŸ³</span>
            <span>Name</span>
        </div>
        <div class="header-item metric">CPU Â°C</div>
        <div class="header-item metric">CPU %</div>
        <div class="header-item metric">LA ( 1m, 5m, 15m )</div>
        <div class="header-item metric">RAM</div>
        <div class="header-item metric">GPU Â°C</div>
        <div class="header-item metric">GPU %</div>
        <div class="header-item metric">Watts</div>
        <div class="header-item metric">Fan</div>
        <div class="header-item metric">VRAM</div>
        <div class="header-item metric">Core</div>
        <div class="header-item metric">Mem</div>
        <div class="header-item metric">CPU</div>
        <div class="header-item metric">GPU</div>
        <div class="header-item title-left">Miner</div>
        <div class="header-item metric">D</div>
    </div>
</div>
<div id="rig-container"></div>
<script src="/static/js/app.js"></script>
</body>
</html>
